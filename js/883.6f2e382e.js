"use strict";(self["webpackChunkkitty_home"]=self["webpackChunkkitty_home"]||[]).push([[883],{1530:function(t,e,r){function s(t){return{all:t=t||new Map,on:function(e,r){var s=t.get(e);s?s.push(r):t.set(e,[r])},off:function(e,r){var s=t.get(e);s&&(r?s.splice(s.indexOf(r)>>>0,1):t.set(e,[]))},emit:function(e,r){var s=t.get(e);s&&s.slice().map((function(t){t(r)})),(s=t.get("*"))&&s.slice().map((function(t){t(e,r)}))}}}r.d(e,{Z:function(){return a}});const l=s();var a=l},1883:function(t,e,r){r.r(e),r.d(e,{default:function(){return at}});var s=r(6252),l=r(3577),a=r(9963);const o={class:"table"},c=(0,s._)("thead",null,[(0,s._)("tr",{class:"text-primary"},[(0,s._)("th",{scope:"row"},[(0,s._)("h2",null,[(0,s._)("i",{class:"bi bi-file-earmark-check-fill me-2"}),(0,s.Uk)("捐款內容")])]),(0,s._)("th",{scope:"col"},"數量"),(0,s._)("th",{scope:"col"},"單價"),(0,s._)("th",{scope:"col"},"金額")])],-1),i={scope:"row",class:"text-primary"},n={scope:"col"},u={scope:"col"},d={scope:"col"},m={class:"table-light"},p=(0,s._)("th",{scope:"row",class:"text-primary"},"捐款總金額",-1),_=(0,s._)("td",{scope:"col"},null,-1),h=(0,s._)("td",{scope:"col"},null,-1),y={scope:"col",class:"text-success"},w={class:"table my-5"},f=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col",class:"text-primary"},[(0,s._)("h2",null,[(0,s._)("i",{class:"bi bi-file-earmark-text-fill me-2"}),(0,s.Uk)("捐款資訊")])]),(0,s._)("th",{scope:"col"})])],-1),b=(0,s._)("th",{scope:"row",class:"text-primary"},"捐款編號",-1),x=(0,s._)("th",{scope:"row",class:"text-primary"},"捐款建立日期",-1),g={colspan:"2"},v=(0,s._)("th",{scope:"row",class:"text-primary"},"捐款建立時間",-1),k={colspan:"2"},F=(0,s._)("th",{scope:"row",class:"text-primary"},"捐款者",-1),$={colspan:"2"},z=(0,s._)("th",{scope:"row",class:"text-primary"},"捐款公司",-1),D={colspan:"2"},O=(0,s._)("th",{scope:"row",class:"text-primary"},"捐款公司電話",-1),C={colspan:"2"},N=(0,s._)("th",{scope:"row",class:"text-primary"},"信箱",-1),q={colspan:"2"},W=(0,s._)("th",{scope:"row",class:"text-primary"},"聯絡電話",-1),I={colspan:"2"},P=(0,s._)("th",{scope:"row",class:"text-primary"},"付款方式",-1),E={colspan:"2"},M={key:0,class:"card"},U=(0,s._)("h5",{class:"card-header text-primary bg-light"},"信用卡資訊",-1),T={class:"card-body"},Z=(0,s._)("h6",{class:"card-title text-primary"},"請輸入信用卡卡號",-1),H={class:"row mt-4"},Y={class:"col-2"},A={class:"col-2"},S={class:"col-2"},V={class:"col-2"},G={class:"row mt-4"},K={class:"col-2"},j={class:"mb-3"},B=(0,s._)("label",{for:"formGroupExampleInput",class:"form-label text-secondary"},"日期",-1),J={class:"col-2"},L={class:"mb-3"},Q=(0,s._)("label",{for:"cardEndNumber",class:"form-label text-secondary"},"末3碼",-1),R=(0,s._)("button",{type:"submit",class:"btn btn-primary float-end mt-3 mb-3"},"下一步 完成捐款",-1),X=(0,s.Uk)("上一步");function tt(t,e,r,tt,et,rt){const st=(0,s.up)("FieldValidate"),lt=(0,s.up)("FormValidate"),at=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("div",null,[(0,s._)("table",o,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(et.userProducts,(t=>((0,s.wg)(),(0,s.iD)("tr",{key:t.id+"userProduct"},[(0,s._)("th",i,(0,l.zw)(t.product.title),1),(0,s._)("td",n,(0,l.zw)(t.qty)+" "+(0,l.zw)(t.product.unit),1),(0,s._)("td",u,(0,l.zw)(t.product.price),1),(0,s._)("td",d,"＄"+(0,l.zw)(t.total),1)])))),128))]),(0,s._)("tfoot",null,[(0,s._)("tr",m,[p,_,h,(0,s._)("th",y,"＄"+(0,l.zw)(et.userOrder.total),1)])])]),(0,s._)("table",w,[f,(0,s._)("tbody",null,[(0,s._)("tr",null,[b,(0,s._)("td",null,(0,l.zw)(et.orderId),1)]),(0,s._)("tr",null,[x,(0,s._)("td",g,(0,l.zw)(rt.creatDate(et.userOrder.create_at)),1)]),(0,s._)("tr",null,[v,(0,s._)("td",k,(0,l.zw)(rt.creatTime(et.userOrder.create_at)),1)]),(0,s._)("tr",null,[F,(0,s._)("td",$,(0,l.zw)(et.userForm.name),1)]),(0,s.wy)((0,s._)("tr",null,[z,(0,s._)("td",D,(0,l.zw)(et.userForm.companyName)+" 公司統編："+(0,l.zw)(et.userForm.companyID),1)],512),[[a.F8,"company"===et.userForm.identity]]),(0,s.wy)((0,s._)("tr",null,[O,(0,s._)("td",C,(0,l.zw)(et.userForm.companyPhone),1)],512),[[a.F8,"company"===et.userForm.identity]]),(0,s._)("tr",null,[N,(0,s._)("td",q,(0,l.zw)(et.userForm.email),1)]),(0,s._)("tr",null,[W,(0,s._)("td",I,(0,l.zw)(et.userForm.tel),1)]),(0,s._)("tr",null,[P,(0,s._)("td",E,(0,l.zw)(et.userForm.method),1)])])]),(0,s.Wm)(lt,{onSubmit:e[0]||(e[0]=t=>rt.clickNext("finish"))},{default:(0,s.w5)((({errors:t})=>["信用卡"===et.userForm.method?((0,s.wg)(),(0,s.iD)("div",M,[U,(0,s._)("div",T,[Z,(0,s._)("div",H,[(0,s._)("div",Y,[(0,s.Wm)(st,{name:"1",class:(0,l.C_)([{"is-invalid":t["1"]},"form-control"]),rules:"required",type:"tel",maxlength:"4"},null,8,["class"])]),(0,s._)("div",A,[(0,s.Wm)(st,{name:"2",class:(0,l.C_)([{"is-invalid":t["2"]},"form-control"]),rules:"required",type:"tel",maxlength:"4"},null,8,["class"])]),(0,s._)("div",S,[(0,s.Wm)(st,{name:"3",class:(0,l.C_)([{"is-invalid":t["3"]},"form-control"]),rules:"required",type:"tel",maxlength:"4"},null,8,["class"])]),(0,s._)("div",V,[(0,s.Wm)(st,{name:"4",class:(0,l.C_)([{"is-invalid":t["4"]},"form-control"]),rules:"required",type:"tel",maxlength:"4"},null,8,["class"])])]),(0,s._)("div",G,[(0,s._)("div",K,[(0,s._)("div",j,[B,(0,s.Wm)(st,{name:"cardDate",class:(0,l.C_)([{"is-invalid":t["cardDate"]},"form-control"]),rules:"required",type:"tel",id:"inputPhone",maxlength:"5"},null,8,["class"])])]),(0,s._)("div",J,[(0,s._)("div",L,[Q,(0,s.Wm)(st,{name:"cardEndNumber",class:(0,l.C_)([{"is-invalid":t["cardEndNumber"]},"form-control"]),rules:"required",type:"password",id:"cardEndNumber",maxlength:"3"},null,8,["class"])])])])])])):(0,s.kq)("",!0),R])),_:1})]),(0,s.Wm)(at,{type:"button",class:"btn btn-primary mt-3 mb-3",to:"/cart/form",onClick:e[1]||(e[1]=t=>rt.clickNext("cart"))},{default:(0,s.w5)((()=>[X])),_:1})],64)}var et=r(1530),rt={data(){return{userOrder:{},userForm:{},userProducts:{},orderId:""}},methods:{clickNext(t){et.Z.emit("clickNext",t),"信用卡"===this.userForm.method?this.$router.push("/cart/finish"):"ATM"===this.userForm.method?this.$router.push(`/cart/ATM/${this.$route.params.id}`):this.$router.push(`/cart/supermarket/${this.$route.params.id}`),et.Z.emit("render-cart")},getUserOrder(){this.orderId=this.$route.params.id;const t=`https://vue3-course-api.hexschool.io/v2/api/peiying/order/${this.orderId}`;this.$http.get(t).then((t=>{this.userOrder=t.data.order,this.userForm=this.userOrder.user,this.userProducts=this.userOrder.products})).catch((t=>{console.log(t)}))},creatDate(t){const e=new Date(1e3*t),r=e.getFullYear(),s=e.getMonth()+1,l=e.getDate(),a=`${r} / ${s} / ${l}`;return a},creatTime(t){const e=new Date(1e3*t),r=e.getHours(),s=e.getMinutes(),l=e.getSeconds(),a=`${r} 點 ${s} 分 ${l} 秒`;return a}},mounted(){this.getUserOrder(),console.log(this.$route.params.id)}},st=r(3744);const lt=(0,st.Z)(rt,[["render",tt]]);var at=lt}}]);
//# sourceMappingURL=883.6f2e382e.js.map